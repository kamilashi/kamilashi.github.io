<canvas id="bg-canvas" aria-hidden="true"></canvas>

  <div id="project-card-layer">
  {% for item in site.data.home.project_entries %}
    <div id="s0e{{ forloop.index0 }}" class="project-card" aria-hidden="true">
      {% include new-bg-card.html cardItem = item %}
    </div>
  {% endfor %}
  {% for item in site.data.home.old_project_entries %}
    <div id="s1e{{ forloop.index0 }}" class="project-card" aria-hidden="true">
      {% include new-bg-card.html cardItem = item %}
    </div>
  {% endfor %}
  </div>

  <style>
    #project-card-layer{
      position: fixed;
      top: 5rem;
      right: 6rem;   
      width: 35rem;        
      aspect-ratio: 1 / 1;      
      z-index: 20;             
      pointer-events: none;    
    }

    #project-card-layer .project-card{
      position: absolute;
      inset: 0;                
      opacity: 0;
      pointer-events: none;
    }

    #project-card-layer .project-card[data-open="true"]{
      opacity: 1;
      transition: opacity 1.0s ease;
    }

    #project-card-layer .project-card[data-open="false"]{
      opacity: 0;
      transition: opacity 1.0s ease;
    }

    #bg-canvas{
      position: fixed;
      inset: 0;
      width: 100vw;
      height: 100vh;
      z-index: 1;            
    }

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce) {
      #bg-canvas { display: none; }
    }
  </style>

<script src="https://unpkg.com/three@0.147.0/build/three.js"></script>

<script src="https://unpkg.com/three@0.147.0/examples/js/controls/OrbitControls.js"></script>
<script src="https://unpkg.com/three@0.147.0/examples/js/shaders/CopyShader.js"></script>  <!-- remove later --> 
<script src="https://unpkg.com/three@0.147.0/examples/js/shaders/FXAAShader.js"></script>
<script src="https://unpkg.com/three@0.147.0/examples/js/postprocessing/EffectComposer.js"></script>
<script src="https://unpkg.com/three@0.147.0/examples/js/postprocessing/Pass.js"></script>
<script src="https://unpkg.com/three@0.147.0/examples/js/postprocessing/RenderPass.js"></script>
<script src="https://unpkg.com/three@0.147.0/examples/js/postprocessing/ShaderPass.js"></script>
<script src="../assets/threejs/GLTFLoader.js"> </script>
<script defer src="../assets/threejs/Helpers.js"></script>
<script defer src="../assets/background/outline-pass.js"></script>
<script defer src="../assets/background/animated-bg3.js"></script>

